<IfModule mod_rewrite.c>
    RewriteEngine On

    # Перенаправление всех запросов в public/
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteRule ^(.*)$ public/$1 [L]
</IfModule>

# Защита системных папок Laravel
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_URI} ^/(app|bootstrap|config|database|resources|routes|storage|tests|vendor) [NC]
    RewriteRule ^(.*)$ - [F,L]
</IfModule>

# Защита конфигурационных файлов
<FilesMatch "^(\.env|\.env\.example|composer\.(json|lock)|package\.(json|lock)|artisan|\.gitignore|\.gitattributes|phpunit\.xml|\.php_cs|\.editorconfig|\.styleci\.yml)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Deny from all
    </IfModule>
</FilesMatch>

# Запрет просмотра директорий
Options -Indexes

