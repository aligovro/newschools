/**
 * Общие стили для модальных окон
 * Предотвращают горизонтальный скролл и обеспечивают правильное поведение на мобильных устройствах
 */

/* Когда модальное окно открыто, предотвращаем скролл body */
body[data-scroll-locked] {
    overflow: hidden !important;
    overflow-x: hidden !important;
    overflow-y: hidden !important;
    position: fixed;
    width: 100%;
    height: 100%;
}

/* Overlay для модальных окон */
[data-slot='dialog-overlay'] {
    position: fixed;
    inset: 0;
    z-index: 50;
    overflow: hidden;
}

/* Контент модальных окон */
[data-slot='dialog-content'] {
    /* Предотвращаем выход контента за пределы viewport */
    max-width: calc(100vw - 2rem);
    max-height: 90vh;
    overflow-y: auto;
    overflow-x: hidden;
    
    /* Обеспечиваем правильное позиционирование на мобильных */
    @media (max-width: 640px) {
        max-width: calc(100vw - 1rem);
        max-height: 95vh;
        
        /* Уменьшаем padding на мобильных для экономии места */
        padding: 1rem;
    }
}

/* Дропдауны и выпадающие списки */
.city-selector__dropdown {
    /* Предотвращаем выход за пределы viewport */
    max-width: calc(100vw - 2rem);
    overflow-x: hidden;
    
    @media (max-width: 640px) {
        max-width: calc(100vw - 1rem);
        left: 50%;
        transform: translateX(-50%);
    }
}

/* Gallery Modal */
.gallery-modal {
    overflow: hidden;
    
    .swiper {
        overflow: hidden;
    }
    
    .swiper-slide {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        
        img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
    }
}

/* Map Modal */
.map-modal {
    overflow: hidden;
    
    &__content {
        max-width: calc(100vw - 2rem);
        overflow-x: hidden;
        
        @media (max-width: 640px) {
            max-width: calc(100vw - 1rem);
        }
    }
}

/* Mobile Menu Modal */
.mobile-menu-modal {
    &__content {
        max-width: calc(100vw - 2rem);
        overflow-x: hidden;
        
        @media (max-width: 640px) {
            max-width: 100vw;
            max-height: 100vh;
            border-radius: 0;
        }
    }
}

/* Предотвращаем горизонтальный скролл для всех элементов внутри модалок */
[data-slot='dialog-content'] * {
    max-width: 100%;
    
    /* Для изображений */
    img {
        max-width: 100%;
        height: auto;
    }
    
    /* Для таблиц */
    table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Для pre и code блоков */
    pre,
    code {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
}

