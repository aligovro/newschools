// Стили для виджета рейтинга регионов
.region-rating-widget {
    // Основной контейнер
    .region-rating-header {
        @apply mb-6 text-center;

        .region-rating-title {
            @apply mb-2 text-2xl font-bold text-gray-900;
        }

        .region-rating-subtitle {
            @apply text-sm text-gray-600;
        }

        .region-rating-count {
            @apply text-sm text-gray-500;
        }
    }

    // Поиск и фильтры
    .region-rating-controls {
        @apply mb-6 space-y-4;

        .region-rating-search {
            @apply relative;

            .search-input {
                @apply pl-10;
            }

            .search-icon {
                @apply absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400;
            }
        }

        .region-rating-filters {
            @apply flex gap-4;

            .filter-select {
                @apply w-48;
            }

            .sort-button {
                @apply flex items-center gap-2 rounded-md border border-gray-300 px-3 py-2 text-sm hover:bg-gray-50;
            }
        }
    }

    // Список регионов
    .region-rating-list {
        &.layout-list {
            @apply space-y-3;
        }

        &.layout-grid {
            @apply grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3;
        }

        &.layout-compact {
            @apply space-y-2;
        }
    }

    // Элемент региона
    .region-item {
        @apply flex items-center justify-between transition-colors hover:bg-gray-50;

        &.layout-compact {
            @apply rounded-md border p-3;
        }

        &:not(.layout-compact) {
            @apply rounded-lg border p-4;
        }

        &.style-modern {
            @apply shadow-sm;
        }

        &.style-minimal {
            @apply border-none bg-gray-50;
        }

        .region-info {
            @apply flex items-center gap-3;

            .region-flag {
                @apply h-8 w-8 rounded-full object-cover;
            }

            .region-number {
                @apply flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-600;

                .number-text {
                    @apply text-sm font-semibold;
                }
            }

            .region-details {
                .region-name {
                    @apply font-medium;
                }

                .region-code {
                    @apply rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600;
                }

                .region-stats {
                    @apply flex items-center gap-2 text-sm text-gray-500;

                    .stats-icon {
                        @apply h-3 w-3;
                    }
                }
            }
        }

        .region-amount {
            @apply text-right;

            .amount-value {
                @apply font-semibold text-gray-900;
            }
        }
    }

    // Индикаторы изменений
    .change-indicator {
        @apply flex items-center gap-1 text-sm;

        &.positive {
            @apply text-green-600;
        }

        &.negative {
            @apply text-red-600;
        }

        .change-icon {
            @apply h-3 w-3;
        }
    }

    // Пагинация
    .region-rating-pagination {
        @apply mt-6 flex justify-center;

        .pagination-controls {
            @apply flex gap-2;

            .pagination-button {
                @apply rounded-md border border-gray-300 px-3 py-2 text-sm disabled:opacity-50;
            }

            .pagination-info {
                @apply flex items-center px-3 py-2 text-sm;
            }
        }
    }

    // Состояния загрузки и ошибок
    .region-rating-loading {
        @apply flex items-center justify-center py-8;

        .loading-text {
            @apply text-gray-500;
        }
    }

    .region-rating-error {
        @apply rounded-lg bg-red-50 p-4 text-center text-red-600;
    }

    .region-rating-empty {
        @apply rounded-lg bg-gray-50 p-4 text-center text-gray-500;
    }

    // Режим редактирования
    &.region-rating-widget-editor {
        .editor-header {
            @apply mb-4 flex items-center justify-between;

            .editor-title {
                @apply flex items-center gap-2 text-lg font-semibold;

                .title-icon {
                    @apply h-5 w-5 text-blue-500;
                }
            }

            .settings-toggle {
                @apply flex items-center space-x-2 rounded-md border border-gray-300 px-3 py-2 text-sm hover:bg-gray-50;
            }
        }

        .editor-settings {
            @apply space-y-6;

            .settings-section {
                @apply space-y-4;

                .section-title {
                    @apply text-sm font-semibold text-gray-700;
                }

                .settings-grid {
                    @apply grid grid-cols-2 gap-4;
                }

                .settings-checkbox {
                    @apply flex items-center space-x-2;
                }
            }
        }

        .editor-preview {
            @apply mt-6 rounded-lg border-2 border-dashed border-gray-300 p-6;

            .preview-title {
                @apply mb-4 text-sm font-semibold text-gray-700;
            }

            .preview-content {
                @apply rounded-lg border bg-white p-6;

                .preview-header {
                    @apply text-center;

                    .preview-title-text {
                        @apply mb-2 text-2xl font-bold;
                    }

                    .preview-subtitle {
                        @apply mb-4 text-gray-600;
                    }
                }

                .preview-list {
                    @apply space-y-3;

                    .preview-item {
                        @apply flex items-center justify-between rounded-lg border p-3;
                    }
                }
            }
        }
    }
}

// Анимации
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.region-item {
    animation: fadeIn 0.3s ease-out;

    &:nth-child(even) {
        animation-delay: 0.1s;
    }

    &:nth-child(odd) {
        animation-delay: 0.05s;
    }
}

// Адаптивность
@media (max-width: 768px) {
    .region-rating-widget {
        .region-rating-controls {
            .region-rating-filters {
                @apply flex-col;

                .filter-select,
                .sort-button {
                    @apply w-full;
                }
            }
        }

        .region-rating-list.layout-grid {
            @apply grid-cols-1;
        }

        .region-item {
            @apply flex-col items-start gap-3;

            .region-amount {
                @apply text-left;
            }
        }
    }
}

// Темная тема (если поддерживается)
@media (prefers-color-scheme: dark) {
    .region-rating-widget {
        .region-rating-header {
            .region-rating-title {
                @apply text-white;
            }

            .region-rating-subtitle,
            .region-rating-count {
                @apply text-gray-300;
            }
        }

        .region-item {
            @apply border-gray-700 bg-gray-800 hover:bg-gray-700;

            .region-info {
                .region-details {
                    .region-name {
                        @apply text-white;
                    }

                    .region-code {
                        @apply bg-gray-700 text-gray-300;
                    }

                    .region-stats {
                        @apply text-gray-400;
                    }
                }
            }

            .region-amount {
                .amount-value {
                    @apply text-white;
                }
            }
        }

        .region-rating-loading .loading-text,
        .region-rating-empty {
            @apply text-gray-400;
        }

        .region-rating-error {
            @apply bg-red-900 text-red-300;
        }
    }
}
